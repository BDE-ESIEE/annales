{% extends '::base.html.twig' %}
{% block title %}{{ document.subject }} - {{ parent() }}{% endblock %}

{% block tools %}
    <li>
        <a href="{{ path('nk_document_edit', {id:document.id}) }}">
            <i class="icon i-pencil"></i>
            Editer
        </a>
    </li>
    <li>
        <a href="{{ path('nk_document_upload', {id:document.id}) }}">
            <i class="icon i-sort"></i>
            Fichiers
        </a>
    </li>
{% endblock %}

{% block body %}
    <h1>{{ document.subject }}</h1>
    <div class="row-gaped">
        <div class="col5">
            <table class="table">
                <tr>
                    <th colspan="2">Informations</th>
                </tr>
                <tr>
                    <td>Promo</td>
                    <td class="nowrap">
                        <a href="{{ path('nk_document_all', {class:document.class}) }}">{{ document.class }}</a>
                    </td>
                </tr>
                <tr>
                    <td>Matière</td>
                    <td class="nowrap">
                        <a href="{{ path('nk_document_all', {class:document.class, field:document.field}) }}">{{ document.field }}</a>
                    </td>
                </tr>
                <tr>
                    <td>Unité</td>
                    <td class="nowrap">
                        <a href="{{ path('nk_document_search', {s:document.unit}) }}">{{ document.unit }}</a>
                    </td>
                </tr>
                <tr>
                    <td>Professeur</td>
                    <td class="nowrap">
                        <a href="{{ path('nk_document_search', {s:document.teacher}) }}">{{ document.teacher }}</a>
                    </td>
                </tr>
                <tr>
                    <td>Année</td>
                    <td class="nowrap">{{ document.year }}</td>
                </tr>
                <tr>
                    <td>Auteur</td>
                    <td class="nowrap">
                        <a href="{{ path('nk_user_show', {id:document.author.id}) }}">{{ document.author }}</a>
                    </td>
                </tr>
            </table>
        </div>
        <div class="col7">
            <table class="table">
                <tr>
                    <th>Fichier</th>
                    <th>Poid</th>
                    <th>
                        <button class="btn-icon">
                            <i class="icon i-cargo"></i>
                            Télécharger archive
                        </button>
                    </th>
                </tr>
                {% for file in document.files %}
                    <tr>
                        <td>{{ file }}</td>
                        <td>{{ file.size }}</td>
                        <td>
                            <button class="btn-icon">
                                <i class="icon i-download-alt"></i>
                                Télécharger
                            </button>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}